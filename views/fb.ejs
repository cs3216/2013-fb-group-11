<div id="fb-root"></div>
<script>
	window.fbAsyncInit = function() {
		// init the FB JS SDK
		FB.init({
		  appId      : '355786224555024',                        // App ID from the app dashboard
		  channelUrl : '//WWW.YOUR_DOMAIN.COM/channel.html', // Channel file for x-domain comms
		  status     : true,                                 // Check Facebook Login status
		  xfbml      : true                                  // Look for social plugins on the page
		});

		// Additional initialization code such as adding Event Listeners goes here
		FB.getLoginStatus(function(response) {
			console.log(response);
			if (response.status === 'connected') {
				// the user is logged in and has authenticated your
				// app, and response.authResponse supplies
				// the user's ID, a valid access token, a signed
				// request, and the time the access token 
				// and signed request each expire
				var uid = response.authResponse.userID;
				var accessToken = response.authResponse.accessToken;
			} else if (response.status === 'not_authorized') {
				// the user is logged in to Facebook, 
				// but has not authenticated your app
			} else {
				// the user isn't logged in to Facebook.
			}
		});
	};

	// Load the SDK asynchronously
	(function(d, s, id){
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id)) {return;}
		js = d.createElement(s); js.id = id;
		js.src = "//connect.facebook.net/en_US/all.js";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));
	
	function inviteFbFriends(name, fb_id) {
		/* If we can use the canvas redirect version */
		/*
		FB.ui({method: 'apprequests',
			message: 'Enlighten your friends with Osmose'
		}, function(data) {
			console.log(data);
		});
		*/

		FB.ui({
			method: 'feed',
			name: 'Osmose',
			caption: 'Enlighten your friends with Osmose',
			description: 'Hey ' + name + ', come join me and use Osmose! It\'s a really cool platform for learning and sharing knowledge!',
			link: 'http://osmose.soedar.com',
	        picture: 'http://osmose.soedar.com/img/icon-256.png',
	        to: fb_id
		}, function(data) {
			console.log(data);
		});
	}

	function shareQuestionOnFb(question) {
		FB.ui({
			method: 'feed',
			name: question.title,
			caption: question.course_name,
			description: question.content,
			link: 'http://osmose.soedar.com/questions/' + question.id,
	        picture: 'http://osmose.soedar.com/img/icon-256.png'
		}, function(data) {
			console.log(data);
		});
	}
</script>